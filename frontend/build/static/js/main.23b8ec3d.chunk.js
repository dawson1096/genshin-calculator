(this["webpackJsonpgenshin-calculator"]=this["webpackJsonpgenshin-calculator"]||[]).push([[0],{146:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a(13),i=a.n(c),s=a(14),l=a(63),o=a(206),d=a(205),m=a(25),u=a(26),j=a(28),h=a(27),p=a(23),b=a(18),g=a(59),O=a(15),v=a.n(O),x="GET_ERRORS",f="USER_LOADING",L="SET_CURRENT_USER",y="GET_USER_ERRORS",w="LOADING_USER",k="LOAD_USER",C="UPDATE_CHARLIST",N="UPDATE_WEAPONLIST",S="UPDATE_MATERIAL",q="GET_GEN_ERRORS",I="LOADING_GEN_DATA",B="LOAD_GEN_DATA",T="LOADING_REQ",A="GET_REQ_ERRORS",G="GET_ALL_CHAR_REQ",R="GET_CHAR_REQ",D="GET_TALENT_REQ",M="GET_ALL_WEAPON_REQ",E="GET_WEAPON_REQ",P=a(179),z=a(182),W=a(183),F=a(148),_=a(6),U=a(3),Q=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},$=function(e){return{type:L,payload:e}},X=function(){return function(e){localStorage.removeItem("jwtToken"),Q(!1),e($({}))}};var V=Object(s.b)((function(e){return{auth:e.auth}}),{logoutUserConnect:X})(Object(_.a)((function(e){return{root:{display:"flex",justifyContent:"space-between"},button:{margin:e.spacing(2)}}}),{withTheme:!0})((function(e){var t=e.classes,a=e.auth,r=e.logoutUserConnect;return Object(n.jsx)("div",{children:Object(n.jsx)(P.a,{position:"static",children:Object(n.jsxs)(z.a,{className:t.root,children:[Object(n.jsxs)(W.a,{variant:"text",children:[Object(n.jsx)(F.a,{component:p.b,to:"/characters",children:"Characters"}),Object(n.jsx)(F.a,{component:p.b,to:"/weapons",children:"Weapons"}),a.isAuthenticated&&Object(n.jsx)(F.a,{component:p.b,to:"/dashboard",children:"Dashboard"})]}),a.isAuthenticated?Object(n.jsx)(F.a,{className:t.button,variant:"outlined",onClick:r,children:"Logout"}):Object(n.jsxs)("div",{children:[Object(n.jsx)(F.a,{className:t.button,component:p.b,to:"/login",variant:"outlined",children:"Login"}),Object(n.jsx)(F.a,{className:t.button,component:p.b,to:"/register",variant:"contained",color:"secondary",children:"Register"})]})]})})})}))),H=a(104);var J=Object(_.a)((function(e){return{root:{textAlign:"center",marginTop:e.spacing(16)},text:{marginBottom:e.spacing(4)}}}),{withTheme:!0})((function(e){var t=e.classes;return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(H.a,{variant:"h2",className:t.text,children:"Genshin Calculator"}),Object(n.jsx)(H.a,{variant:"h6",className:t.text,children:"To get started choose a character or weapon from the navigation bar above"})]})})),K=a(10),Y=a(184),Z=a(185),ee=a(186),te=a(207),ae=a(208),ne=a(187),re=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).onChange=function(t){var a;e.setState(Object(K.a)({},t.target.id,t.target.value));var n=e.state.password;if(t.target.value||"confirmPass"===t.target.id)switch(t.target.id){case"email":t.target.value.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)||(a="Invalid email");break;case"password":t.target.value.length<6&&(a="Password must be at least 6 characters");break;case"confirmPass":n!==t.target.value&&(a="Passwords must match")}else a="".concat({email:"Email",username:"Username",password:"Password",confirmPass:"Confirm password"}[t.target.id]," is required");e.setState((function(e){return{errors:Object(U.a)(Object(U.a)({},e.errors),{},Object(K.a)({},t.target.id,a))}}))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,c=a.password,i=a.confirmPass,s=e.props,l=s.registerUserConnect,o=s.history,d={username:n,email:r,password:c,confirmPass:i},m={},u=!0;""===r?(m.email="Email is required",u=!1):r.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)?""===n?(m.username="Username is required",u=!1):""===c?(m.password="Password is required",u=!1):c.length<6?(m.password="Password must be at least 6 characters",u=!1):c!==i&&(m.confirmPass="Passwords must match",u=!1):(m.email="Invalid email",u=!1),e.setState({errors:m}),u&&l(d,o)},e.state={username:"",email:"",password:"",confirmPass:"",errors:{}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth.isAuthenticated,a=e.history;t&&a.push("/dashboard")}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.email,r=e.username,c=e.password,i=e.confirmPass,s=this.props.classes;return Object(n.jsx)(Y.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(Z.a,{container:!0,children:Object(n.jsx)(ee.a,{component:p.b,to:"/",children:Object(n.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(n.jsx)(ne.a,{}),"Back to home"]})})}),Object(n.jsx)(H.a,{variant:"h3",children:"Register"}),Object(n.jsxs)("form",{noValidate:!0,className:s.form,onSubmit:this.onSubmit,children:[t.existingAcc&&Object(n.jsx)(ae.a,{severity:"warning",children:t.existingAcc}),Object(n.jsx)(te.a,{error:!!t.email,helperText:t.email,variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:this.onChange}),Object(n.jsx)(te.a,{error:!!t.username,helperText:t.username,variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:r,onChange:this.onChange}),Object(n.jsx)(te.a,{error:!!t.password,helperText:t.password,variant:"filled",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:c,onChange:this.onChange}),Object(n.jsx)(te.a,{error:!!t.confirmPass,helperText:t.confirmPass,variant:"filled",margin:"normal",required:!0,fullWidth:!0,name:"confirmPass",label:"Confirm Password",type:"password",id:"confirmPass",value:i,onChange:this.onChange}),Object(n.jsx)(F.a,{type:"submit",variant:"contained",color:"primary",className:s.submit,fullWidth:!0,children:"Register"}),Object(n.jsx)(Z.a,{container:!0,children:Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(ee.a,{component:p.b,to:"/login",variant:"body2",children:"Already have an account? Log in"})})})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t;return e.errors.existingAcc?(a.errors=e.errors,a):null}}]),a}(r.Component),ce=Object(s.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUserConnect:function(e,t){return function(a,n){var r=n().userData,c=Object(U.a)(Object(U.a)({},e),{},{userData:{charList:r.charList,weaponList:r.weaponList,materials:r.materials}});v.a.post("/api/register",c).then((function(){return t.push("/login")})).catch((function(e){var t=e.response.data;500===e.response.status&&(t={internalError:"Could not connect to server"}),a({type:x,payload:t})}))}}})(Object(b.g)(Object(_.a)((function(e){return{root:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(3,0,2)},textDiv:{display:"flex",alignItems:"center",flexWrap:"wrap"}}}),{withTheme:!0})(re))),ie=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(K.a)({},t.target.id,t.target.value),(function(){if(t.target.value)e.setState((function(e){return{errors:Object(U.a)(Object(U.a)({},e.errors),{},Object(K.a)({},t.target.id,void 0))}}));else{var a={email:"Email",password:"Password"};e.setState((function(e){return{errors:Object(U.a)(Object(U.a)({},e.errors),{},Object(K.a)({},t.target.id,"".concat(a[t.target.id]," is required")))}}))}}))},e.onSubmit=function(t){var a=e.state,n=a.email,r=a.password,c=e.props.loginUserConnect;t.preventDefault();var i={email:n,password:r},s=!0,l={};""===n?(l.email="Email is required",s=!1):""===r?(l.password="Password is required",s=!1):n.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)?r.length<6&&(l.invalidLogin="Email or password is incorrect",s=!1):(l.invalidLogin="Email or password is incorrect",s=!1),e.setState({errors:l}),s&&c(i)},e.state={email:"",password:"",errors:{}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,a=e.history;t.isAuthenticated&&a.push("/dashboard")}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.email,r=e.password,c=this.props.classes;return Object(n.jsx)(Y.a,{maxWidth:"xs",children:Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(Z.a,{container:!0,children:Object(n.jsx)(ee.a,{component:p.b,to:"/",children:Object(n.jsxs)(Z.a,{container:!0,alignItems:"center",children:[Object(n.jsx)(ne.a,{}),"Back to home"]})})}),Object(n.jsx)(H.a,{variant:"h3",children:"Log in"}),Object(n.jsxs)("form",{noValidate:!0,className:c.form,onSubmit:this.onSubmit,children:[t.invalidLogin&&Object(n.jsx)(ae.a,{severity:"error",children:t.invalidLogin}),Object(n.jsx)(te.a,{error:!!t.email,helperText:t.email,variant:"filled",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:this.onChange}),Object(n.jsx)(te.a,{error:!!t.password,helperText:t.password,variant:"filled",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:this.onChange}),Object(n.jsx)(F.a,{type:"submit",variant:"contained",color:"primary",className:c.submit,fullWidth:!0,children:"Login"}),Object(n.jsxs)(Z.a,{container:!0,children:[Object(n.jsx)(Z.a,{item:!0,xs:!0,children:Object(n.jsx)(ee.a,{component:p.b,to:"/forgot-password",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(ee.a,{component:p.b,to:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t;return e.auth.isAuthenticated&&e.history.push("/dashboard"),e.errors?(a.errors=e.errors,a):null}}]),a}(r.Component),se=Object(s.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUserConnect:function(e){return function(t){v.a.post("/api/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),Q(a);var n=Object(l.a)(a);t($(n))})).then((function(){return v.a.get("/api/user")})).then((function(e){t({type:k,payload:e.data.userData})})).catch((function(e){var a=e.response.data;500===e.response.status&&(a={internalError:"Could not connect to server"}),t({type:x,payload:a})}))}}})(Object(_.a)((function(e){return{root:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(3,0,2)},textDiv:{display:"flex",alignItems:"center",flexWrap:"wrap"}}}),{withTheme:!0})(ie)),le=a(101),oe=Object(s.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,r=Object(le.a)(e,["component","auth"]);return Object(n.jsx)(b.b,Object(U.a)(Object(U.a)({},r),{},{render:function(e){return!0===a.isAuthenticated?Object(n.jsx)(t,Object(U.a)({},e)):Object(n.jsx)(b.a,{to:"/login"})}}))})),de=a(20),me=a(190),ue=a(194),je=a(71),he=a.n(je),pe=a(191),be=a(211),ge=a(192),Oe=a(193),ve=Object(me.a)((function(e){return{root:{display:"flex",flexDirection:"column",backgroundColor:"#ebeeff",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",margin:e.spacing(1),padding:e.spacing(2)},matImg:{width:"auto",height:e.spacing(10)},imgBackFive:{backgroundImage:e.palette.stars.five,height:e.spacing(12),width:e.spacing(14),display:"flex",alignItems:"center",justifyContent:"center"},imgBackFour:{backgroundImage:e.palette.stars.four,height:e.spacing(12),width:e.spacing(14),display:"flex",alignItems:"center",justifyContent:"center"},imgBackThree:{backgroundImage:e.palette.stars.three,height:e.spacing(12),width:e.spacing(14),display:"flex",alignItems:"center",justifyContent:"center"},imgBackTwo:{backgroundImage:e.palette.stars.two,height:e.spacing(12),width:e.spacing(14),display:"flex",alignItems:"center",justifyContent:"center"},imgBackOne:{backgroundImage:e.palette.stars.one,height:e.spacing(12),width:e.spacing(14),display:"flex",alignItems:"center",justifyContent:"center"},number:{color:"white",fontSize:e.spacing(2.5)},tooltip:{display:"flex",alignItems:"center",justifyContent:"center"},textDiv:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(3,0)},textField:{"& fieldset":{borderColor:e.palette.primary.main,borderRadius:0}},input:{height:e.spacing(2),width:e.spacing(15),fontSize:e.spacing(4),padding:e.spacing(2),textAlign:"center","&[type=number]":{"-moz-appearance":"textfield"},"&::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0},"&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},buttonCheck:{display:"flex",alignItems:"center"},buttonGroup:{display:"flex",alignItems:"center",justifyContent:"center"},button:{color:"white",borderColor:"transparent",padding:0,backgroundColor:e.palette.primary.main,maxWidth:e.spacing(7),minWidth:e.spacing(7)}}}));function xe(e){var t=e.number.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",");return Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)("div",{children:e.name}),e.number>=1e3&&Object(n.jsx)("div",{children:t})]})}var fe=function(e){var t=e.curMat,a=e.matInfo,c=ve(),i=Object(s.c)(),l=Object(r.useState)((function(){return Object(U.a)({},t)})),o=Object(de.a)(l,2),d=o[0],m=o[1],u=Object(r.useState)(""),j=Object(de.a)(u,2),h=j[0],p=j[1],b=function(e){var t=""===e?"":parseInt(e,10);if(""===t)m(Object(U.a)(Object(U.a)({},d),{},{number:t})),p("Field cannot be empty");else if(t>=0){var a=Object(U.a)({},d);a.number=t,m(a),p("")}};return Object(r.useEffect)((function(){m(t)}),[t]),Object(r.useEffect)((function(){""===h&&i(function(e,t){return function(a,n){a({type:w,payload:"loadingMat"});var r=n(),c=r.userData,i=r.auth.isAuthenticated;if("matType"in t){for(var s=0;s<c.materials[t.matGroup].length;s++)if(c.materials[t.matGroup][s].name===t.matType)for(var l=0;l<c.materials[t.matGroup][s].matList.length;l++)c.materials[t.matGroup][s].matList[l].name===e.name&&(c.materials[t.matGroup][s].matList[l].number=e.number)}else for(var o=0;o<c.materials[t.matGroup].length;o++)c.materials[t.matGroup][o].name===e.name&&(c.materials[t.matGroup][o].number=e.number);if(i){var d={charList:c.charList,weaponList:c.weaponList,materials:c.materials};v.a.post("/api/user",d).then((function(){return a({type:S,payload:c.materials})})).catch((function(e){a({type:y,payload:{field:"materials",error:e}})}))}}}(d,a))}),[d]),Object(n.jsxs)(pe.a,{className:c.root,children:[Object(n.jsx)(be.a,{title:xe(t),arrow:!0,children:Object(n.jsx)(pe.a,{children:Object(n.jsx)("div",{className:function(){switch(t.type){case"white":return c.imgBackOne;case"green":return c.imgBackTwo;case"blue":return c.imgBackThree;case"purple":return c.imgBackFour;case"gold":return c.imgBackFive}return c.imgBackThree}(),children:Object(n.jsx)("img",{className:c.matImg,src:t.imgPath,alt:t.name})})})}),Object(n.jsx)("div",{className:c.textDiv,children:Object(n.jsx)(te.a,{error:!!h,className:c.textField,InputProps:{classes:{input:c.input}},onChange:function(e){return b(e.target.value)},value:d.number,variant:"outlined"})}),Object(n.jsx)("div",{className:c.buttonCheck,children:Object(n.jsxs)(W.a,{className:c.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return b(d.number-1)},className:c.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return b(d.number+1)},className:c.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})})]})},Le=Object(me.a)((function(e){return{root:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},spinner:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center"},title:{margin:e.spacing(4)},matGroup:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},matTitle:{fontSize:e.spacing(5),margin:e.spacing(4)},totalGrid:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var ye=function(){var e=Le(),t=Object(s.d)((function(e){return e.userData.materials})),a=Object(r.useState)((function(){return Object(U.a)({},t)})),c=Object(de.a)(a,2),i=c[0],l=c[1];return Object(r.useEffect)((function(){l(t)}),[t]),Object(n.jsx)(Y.a,{maxWidth:"md",children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(H.a,{className:e.title,variant:"h4",children:"Dashboard"}),he()(i)?Object(n.jsx)("div",{className:e.spinner,children:Object(n.jsx)(ue.a,{size:80})}):Object(n.jsxs)(Z.a,{container:!0,spacing:3,direction:"column",children:[Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Elemental Materials"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.eleMat.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:e,matInfo:{matGroup:"eleMat"}})},e.name)}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Weapon Materials"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.weaponMat.map((function(e){return e.matList.map((function(t){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:t,matInfo:{matGroup:"weaponMat",matType:e.name}})},t.name)}))}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Elite Materials"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.eliteMat.map((function(e){return e.matList.map((function(t){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:t,matInfo:{matGroup:"eliteMat",matType:e.name}})},t.name)}))}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Elemental Crystals"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.eleCrys.map((function(e){return e.matList.map((function(t){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:t,matInfo:{matGroup:"eleCrys",matType:e.name}})},t.name)}))}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Common Materials"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.comMat.map((function(e){return e.matList.map((function(t){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:t,matInfo:{matGroup:"comMat",matType:e.name}})},t.name)}))}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Local Specialty"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.locSpec.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:e,matInfo:{matGroup:"locSpec"}})},e.name)}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Talent Books"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.talentMat.map((function(e){return e.matList.map((function(t){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:t,matInfo:{matGroup:"talentMat",matType:e.name}})},t.name)}))}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:e.matGroup,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Boss Materials"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.bossMat.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:e,matInfo:{matGroup:"bossMat"}})},e.name)}))})]})}),Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)(Z.a,{className:e.totalGrid,spacing:3,container:!0,children:[Object(n.jsxs)(Z.a,{className:e.matGroup,item:!0,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Character Exp"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.charExp.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:e,matInfo:{matGroup:"charExp"}})},e.name)}))})]}),Object(n.jsxs)(Z.a,{className:e.matGroup,item:!0,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Weapon Exp"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:i.weaponExp.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:e,matInfo:{matGroup:"weaponExp"}})},e.name)}))})]}),Object(n.jsxs)(Z.a,{className:e.matGroup,item:!0,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Mora"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:i.misc[0],matInfo:{matGroup:"misc"}})})})]}),Object(n.jsxs)(Z.a,{className:e.matGroup,item:!0,children:[Object(n.jsx)(H.a,{className:e.matTitle,children:"Crown of Insight"}),Object(n.jsx)(Z.a,{className:e.totalGrid,container:!0,children:Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)(fe,{curMat:i.misc[1],matInfo:{matGroup:"misc"}})})})]})]})})]})]})})},we=a(201),ke=a(209),Ce=a(197),Ne=a(150),Se=a(52),qe=a.n(Se),Ie=a(105),Be=a(198),Te=a(196),Ae=a(210),Ge=a(149),Re=a(199),De=a(200),Me=a(202),Ee=a(203),Pe=a(204),ze=function(){return function(e,t){e({type:T,payload:"allCharReq"});var a=t().userData,n={charList:a.charList,materials:a.materials};v.a.post("/api/character",n).then((function(t){e({type:G,payload:t.data})})).catch((function(t){e({type:A,payload:{req:"allCharReq",error:t}})}))}},We=function(){return function(e,t){e({type:T,payload:"allWeaponReq"});var a=t().userData,n={weaponList:a.weaponList,materials:a.materials};v.a.post("/api/weapon",n).then((function(t){e({type:M,payload:t.data})})).catch((function(t){e({type:A,payload:{req:"allWeaponReq",error:t}})}))}},Fe=a(195),_e=Object(_.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.grey[500],"&$checked":{transform:"translateX(12px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(Fe.a);function Ue(e){if(e>=1e3&&e<1e6){var t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)/100);return"".concat(t).concat(a>0?".".concat(a):"","k")}if(e>=1e6){var n=Math.floor(e/1e6),r=Math.floor((e-1e6*n)/1e5);return"".concat(n).concat(r>0?".".concat(r):"","m")}return e}function Qe(e){var t=e.reqNum.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",");return Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)("div",{children:e.name}),e.reqNum>=1e3&&Object(n.jsx)("div",{children:t})]})}var $e=Object(_.a)((function(e){return{root:{display:"flex",flexDirection:"column",backgroundColor:"grey",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",margin:e.spacing(1)},matImg:{width:"auto",height:e.spacing(8)},imgBackFive:{backgroundImage:e.palette.stars.five,height:e.spacing(10),width:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center"},imgBackFour:{backgroundImage:e.palette.stars.four,height:e.spacing(10),width:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center"},imgBackThree:{backgroundImage:e.palette.stars.three,height:e.spacing(10),width:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center"},imgBackTwo:{backgroundImage:e.palette.stars.two,height:e.spacing(10),width:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center"},imgBackOne:{backgroundImage:e.palette.stars.one,height:e.spacing(10),width:e.spacing(12),display:"flex",alignItems:"center",justifyContent:"center"},reqNum:{color:"white",fontSize:e.spacing(2.5)},tooltip:{display:"flex",alignItems:"center",justifyContent:"center"}}}),{withTheme:!0})((function(e){var t=e.classes,a=e.curMat;return Object(n.jsx)(be.a,{title:Qe(a),arrow:!0,children:Object(n.jsxs)(pe.a,{className:t.root,children:[Object(n.jsx)("div",{className:function(){switch(a.type){case"white":return t.imgBackOne;case"green":return t.imgBackTwo;case"blue":return t.imgBackThree;case"purple":return t.imgBackFour;case"gold":return t.imgBackFive}return t.imgBackThree}(),children:Object(n.jsx)("img",{className:t.matImg,src:a.imgPath,alt:a.name})}),Object(n.jsx)(H.a,{className:t.reqNum,children:Ue(a.reqNum)})]})})})),Xe=Object(me.a)((function(e){return{totalGrid:{display:"flex",alignItems:"center",justifyContent:"center"},root:{display:"flex",flexDirection:"column",margin:e.spacing(3),alignItems:"center",justifyContent:"center",backgroundColor:"#ebeeff",borderRadius:e.spacing(4),padding:e.spacing(2)},matGroup:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},spinner:{display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(4)}}}));function Ve(e){var t=e.total,a=e.mat,r=e.loading,c=Xe();return r?Object(n.jsx)("div",{className:c.spinner,children:Object(n.jsx)(ue.a,{size:40})}):Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.arrMat&&0!==a.arrMat.length&&a.arrMat.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}):!he()(a)&&Object(n.jsx)("div",{className:c.root,children:Object(n.jsxs)(Z.a,{container:!0,spacing:3,direction:"column",children:[a.eleMat&&0!==a.eleMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Elemental Materials"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.eleMat.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))})]})}),a.weaponMat&&0!==a.weaponMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Weapon Materials"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.weaponMat.map((function(e){return e.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}))})]})}),a.eliteMat&&0!==a.eliteMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Elite Materials"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.eliteMat.map((function(e){return e.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}))})]})}),a.eleCrys&&0!==a.eleCrys.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Elemental Crystals"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.eleCrys.map((function(e){return e.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}))})]})}),a.comMat&&0!==a.comMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Common Materials"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.comMat.map((function(e){return e.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}))})]})}),a.locSpec&&0!==a.locSpec.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Local Specialty"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.locSpec.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))})]})}),a.talentMat&&0!==a.talentMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Talent Books"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.talentMat.map((function(e){return e.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))}))})]})}),a.bossMat&&0!==a.bossMat.length&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)("div",{className:c.matGroup,children:[Object(n.jsx)(H.a,{children:"Boss Materials"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.bossMat.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))})]})}),(a.charExp&&0!==a.charExp.matList.length||a.weaponExp&&0!==a.weaponExp.matList.length||a.misc&&a.misc[0]||a.misc&&a.misc[1])&&Object(n.jsx)(Z.a,{item:!0,xs:12,children:Object(n.jsxs)(Z.a,{className:c.totalGrid,spacing:3,container:!0,children:[a.charExp&&0!==a.charExp.matList.length&&Object(n.jsxs)(Z.a,{className:c.matGroup,item:!0,children:[Object(n.jsx)(H.a,{children:"Character Exp"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.charExp.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))})]}),a.weaponExp&&0!==a.weaponExp.matList.length&&Object(n.jsxs)(Z.a,{className:c.matGroup,item:!0,children:[Object(n.jsx)(H.a,{children:"Weapon Exp"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:a.weaponExp.matList.map((function(e){return Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:e})},e.name)}))})]}),a.misc&&a.misc[0]&&Object(n.jsxs)(Z.a,{className:c.matGroup,item:!0,children:[Object(n.jsx)(H.a,{children:"Mora"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:a.misc[0]})})})]}),a.misc&&a.misc[1]&&Object(n.jsxs)(Z.a,{className:c.matGroup,item:!0,children:[Object(n.jsx)(H.a,{children:"Crown of Insight"}),Object(n.jsx)(Z.a,{className:c.totalGrid,container:!0,children:Object(n.jsx)(Z.a,{item:!0,children:Object(n.jsx)($e,{curMat:a.misc[1]})})})]})]})})]})})})}Ve.defaultProps={total:!1,mat:{}};var He=Ve,Je=Object(me.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{outline:0,backgroundColor:"#ebeeff",borderRadius:e.spacing(4),boxShadow:e.shadows[5],padding:e.spacing(2),width:"60%",height:"75%",overflow:"auto",display:"flex",flexDirection:"column"},contnet:{display:"flex",justifyContent:"center",alignItems:"center"},imgCard:{marginTop:e.spacing(2),marginBottom:e.spacing(2),margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),width:100,overflow:"hidden"},imgBackFive:{backgroundImage:e.palette.stars.five},imgBackFour:{backgroundImage:e.palette.stars.four},name:{backgroundColor:"white",textAlign:"center",width:"100%",height:24},nameSmall:{backgroundColor:"white",textAlign:"center",width:"100%",fontSize:e.spacing(3.5),height:24},media:{width:e.spacing(25),height:"auto"},delete:{padding:e.spacing(2),color:e.palette.primary.main},switchLabel:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(0,2,0)},switch:{marginRight:e.spacing(2)},text:{fontSize:e.spacing(4),fontWeight:"bold"},textDiv:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(1)},textField:{marginLeft:e.spacing(2),"& fieldset":{borderColor:e.palette.primary.main,borderRadius:0}},input:{height:e.spacing(2),width:e.spacing(8),fontSize:e.spacing(4),padding:e.spacing(2),textAlign:"center","&[type=number]":{"-moz-appearance":"textfield"},"&::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0},"&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},levels:{display:"flex",alignItems:"center",justifyContent:"center"},level:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",borderRadius:e.spacing(2),margin:e.spacing(2),padding:e.spacing(2)},buttonCheck:{display:"flex",alignItems:"center"},buttonGroup:{display:"flex",alignItems:"center",justifyContent:"center"},button:{color:"white",borderColor:"transparent",padding:0,backgroundColor:e.palette.primary.main,maxWidth:e.spacing(7),minWidth:e.spacing(7)},checkbox:{color:e.palette.secondary.main,padding:e.spacing(1)},talentLvls:{display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(1)},talentLvlsSmall:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:e.spacing(1)},talentLvl:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"white",borderRadius:e.spacing(2),margin:e.spacing(2),padding:e.spacing(2)},talentImg:{width:e.spacing(7),height:"auto"},lvlsGroup:{display:"flex",alignItems:"center",justifyContent:"center"},lvlGroup:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:e.spacing(2)},lvlText:{fontWeight:"bold",fontSize:e.spacing(4),marginBottom:e.spacing(1)},materials:{margin:e.spacing(2),backgroundColor:"white",borderRadius:e.spacing(4),padding:e.spacing(2)},talentTitle:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2)},talentText:{marginLeft:e.spacing(2)},talentMaterials:{padding:e.spacing(2)}}}));var Ke=function(e){var t=e.char,a=e.modalOpen,c=e.onClose,i=Je(),l=Object(s.c)(),o=Object(s.d)((function(e){return e.reqMat})),d=Object(Te.a)("(min-width:800px)"),m=Object(r.useState)((function(){return{inventory:t.inventory,talentTotal:t.talentTotal,hidden:t.hidden,name:t.name,curLvl:t.curLvl,reqLvl:t.reqLvl,autoAttack:{curLvl:t.autoAttack.curLvl,reqLvl:t.autoAttack.reqLvl},eleSkill:{curLvl:t.eleSkill.curLvl,reqLvl:t.eleSkill.reqLvl},eleBurst:{curLvl:t.eleBurst.curLvl,reqLvl:t.eleBurst.reqLvl}}})),u=Object(de.a)(m,2),j=u[0],h=u[1],p=Object(r.useState)((function(){return{curLvl:void 0,reqLvl:void 0}})),b=Object(de.a)(p,2),g=b[0],O=b[1],x=Object(r.useState)((function(){return{curLvl:t.curLvl%1!==0,reqLvl:t.reqLvl%1!==0}})),f=Object(de.a)(x,2),L=f[0],k=f[1],N=Object(r.useState)((function(){return Object(U.a)({},o.charReq)})),S=Object(de.a)(N,2),q=S[0],I=S[1],B=Object(r.useState)((function(){return Object(U.a)({},o.talentReq)})),G=Object(de.a)(B,2),M=G[0],E=G[1];Object(r.useEffect)((function(){!a||g.curLvl||g.reqLvl||l(function(e){return function(t,a){t({type:T,payload:"charReq"});var n=a().userData,r={char:e,materials:n.materials};v.a.post("/api/character/".concat(e.name.replace(/ /g,"_")),r).then((function(e){t({type:R,payload:e.data})})).catch((function(e){t({type:A,payload:{req:"charReq",error:e}})}))}}(j))}),[a,j.curLvl,j.reqLvl,j.inventory]),Object(r.useEffect)((function(){a&&l(function(e){return function(t,a){t({type:T,payload:"talentrReq"});var n=a().userData,r={char:e,materials:n.materials};v.a.post("/api/character/".concat(e.name.replace(/ /g,"_"),"/talent"),r).then((function(e){var a={type:e.data.total?"total":"separatae",req:e.data};t({type:D,payload:a})})).catch((function(e){t({type:A,payload:{req:"talentReq",error:e}})}))}}(j))}),[a,j.autoAttack.curLvl,j.autoAttack.reqLvl,j.eleSkill.curLvl,j.eleSkill.reqLvl,j.eleBurst.curLvl,j.eleBurst.reqLvl,j.inventory,j.talentTotal]),Object(r.useEffect)((function(){I(o.charReq)}),[o.charReq]),Object(r.useEffect)((function(){E(o.talentReq)}),[o.talentReq]);var P=function(e){switch(h(Object(U.a)(Object(U.a)({},j),{},Object(K.a)({},e,!j[e]))),l(function(e,t){return function(a,n){a({type:w,payload:"loadingChar"});for(var r=n(),c=r.userData,i=r.auth.isAuthenticated,s=0;s<c.charList.length;s++)e===c.charList[s].name&&(c.charList[s][t]=!c.charList[s][t]);if(i){var l={charList:c.charList,weaponList:c.weaponList,materials:c.materials};v.a.post("/api/user",l).then((function(){return a({type:C,payload:c.charList})})).catch((function(e){a({type:y,payload:{field:"charList",error:e}})}))}else a({type:C,payload:c.charList})}}(j.name,e)),e){case"hidden":l(ze())}},z=function(e){return[20,40,50,60,70,80].includes(Math.floor(e))},_=function(e){k(Object(U.a)(Object(U.a)({},L),{},Object(K.a)({},e,!L[e]))),h(Object(U.a)(Object(U.a)({},j),{},Object(K.a)({},e,L[e]?j[e]-.5:j[e]+.5)))},Q=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=""===e?"":parseInt(e,10);switch(t){case"level":if(z(r)&&L[a]&&(r+=.5),r>=1&&r<=90){var c=Object(U.a)({},j);c[a]=r;var i=Object(U.a)(Object(U.a)({},g),{},Object(K.a)({},a,void 0));"curLvl"===a&&r>j.reqLvl?(c.reqLvl=r,i.reqLvl=void 0):"reqLvl"===a&&r<j.curLvl&&(c.reqLvl=r,i.reqLvl="Required Level is too low"),h(c),O(i)}else 0===r&&"string"===typeof e?(h(Object(U.a)(Object(U.a)({},j),{},Object(K.a)({},a,r))),O(Object(U.a)(Object(U.a)({},g),{},Object(K.a)({},a,"Level cannot be 0")))):""===r&&(h(Object(U.a)(Object(U.a)({},j),{},Object(K.a)({},a,r))),O(Object(U.a)(Object(U.a)({},g),{},Object(K.a)({},a,"Field cannot be empty"))));break;case"talent":if(r>=1&&r<=10){var s=j[n],l=s.reqLvl;s[a]=r,"curLvl"===a&&r>j[n].reqLvl?s.reqLvl=r:"reqLvl"===a&&r<j[n].curLvl&&(s.reqLvl=l),h(Object(U.a)(Object(U.a)({},j),{},Object(K.a)({},n,s)))}}};return Object(n.jsx)(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:a,onClose:function(){c(),g.curLvl||g.reqLvl?(h(Object(U.a)(Object(U.a)({},j),{},{name:t.name,curLvl:t.curLvl,reqLvl:t.reqLvl,autoAttack:{curLvl:t.autoAttack.curLvl,reqLvl:t.autoAttack.reqLvl},eleSkill:{curLvl:t.eleSkill.curLvl,reqLvl:t.eleSkill.reqLvl},eleBurst:{curLvl:t.eleBurst.curLvl,reqLvl:t.eleBurst.reqLvl}})),O({curLvl:void 0,reqLvl:void 0})):(l(function(e){return function(t,a){t({type:w,payload:"loadingChar"});for(var n=a(),r=n.userData,c=n.auth.isAuthenticated,i=0;i<r.charList.length;i++)e.name===r.charList[i].name&&(r.charList[i].curLvl=e.curLvl,r.charList[i].reqLvl=e.reqLvl,r.charList[i].autoAttack.curLvl=e.autoAttack.curLvl,r.charList[i].autoAttack.reqLvl=e.autoAttack.reqLvl,r.charList[i].eleSkill.curLvl=e.eleSkill.curLvl,r.charList[i].eleSkill.reqLvl=e.eleSkill.reqLvl,r.charList[i].eleBurst.curLvl=e.eleBurst.curLvl,r.charList[i].eleBurst.reqLvl=e.eleBurst.reqLvl);if(c){var s={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",s).then((function(){return t({type:C,payload:r.charList})})).catch((function(e){t({type:y,payload:{field:"charList",error:e}})}))}else t({type:C,payload:r.charList})}}(j)),l(ze()))},closeAfterTransition:!0,BackdropComponent:Ce.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ne.a,{in:a,children:Object(n.jsx)("div",{className:i.paper,children:Object(n.jsxs)("div",{className:i.content,children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:i.imgCard,children:[Object(n.jsx)("div",{className:5===t.stars?i.imgBackFive:i.imgBackFour,children:Object(n.jsx)(Be.a,{className:i.media,component:"img",image:t.imgPath,title:t.name})}),Object(n.jsx)(H.a,{className:t.name.length>12?i.nameSmall:i.name,children:t.name})]})}),Object(n.jsxs)("div",{className:i.buttonGroup,children:[Object(n.jsx)(Ae.a,{onChange:function(){return P("hidden")},checked:j.hidden,color:"primary",icon:Object(n.jsx)(Re.a,{}),checkedIcon:Object(n.jsx)(Re.a,{})}),Object(n.jsx)(Ge.a,{className:i.delete,onClick:function(){var e;l((e=j.name,function(t,a){t({type:w});for(var n=a(),r=n.userData,c=n.auth.isAuthenticated,i=0;i<r.charList.length;i++)if(e===r.charList[i].name){r.charList.splice(i,1);break}if(c){var s={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",s).then((function(){return t({type:C,payload:r.charList})})).catch((function(e){t({type:y,payload:{field:"charList",error:e}})}))}else t({type:C,payload:r.charList})})),l(ze()),c()},children:Object(n.jsx)(De.a,{})}),Object(n.jsx)(we.a,{className:i.switchLabel,control:Object(n.jsx)(_e,{className:i.switch,checked:j.inventory,onChange:function(){return P("inventory")},inputProps:{"aria-label":"primary checkbox"}}),label:Object(n.jsx)("span",{style:{fontSize:"0.9rem"},children:"Include Inventory"})})]}),Object(n.jsxs)("div",{className:i.levels,children:[Object(n.jsxs)("div",{className:i.level,children:[Object(n.jsx)(H.a,{className:i.text,children:"Current Level"}),Object(n.jsxs)("div",{className:i.textDiv,children:[Object(n.jsx)("span",{className:i.text,children:"Lv. "}),Object(n.jsx)(te.a,{error:!!g.curLvl,className:i.textField,InputProps:{classes:{input:i.input}},id:"curLvl",name:"curLvl",onChange:function(e){return Q(e.target.value,"level",e.target.id)},value:""!==j.curLvl?Math.floor(j.curLvl):j.curLvl,variant:"outlined"})]}),Object(n.jsxs)("div",{className:i.buttonCheck,children:[Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.curLvl-1,"level","curLvl")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.curLvl+1,"level","curLvl")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]}),Object(n.jsx)(Ae.a,{onClick:function(){return _("curLvl")},disabled:!z(j.curLvl),checked:L.curLvl,className:i.checkbox,icon:Object(n.jsx)(Me.a,{}),checkedIcon:Object(n.jsx)(Ee.a,{})})]})]}),Object(n.jsxs)("div",{className:i.level,children:[Object(n.jsx)(H.a,{className:i.text,children:"Required Level"}),Object(n.jsxs)("div",{className:i.textDiv,children:[Object(n.jsx)("span",{className:i.text,children:"Lv. "}),Object(n.jsx)(te.a,{error:!!g.reqLvl,className:i.textField,InputProps:{classes:{input:i.input}},id:"reqLvl",name:"reqLvl",onChange:function(e){return Q(e.target.value,"level",e.target.id)},value:""!==j.reqLvl?Math.floor(j.reqLvl):j.reqLvl,variant:"outlined"})]}),Object(n.jsxs)("div",{className:i.buttonCheck,children:[Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.reqLvl-1,"level","reqLvl")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.reqLvl+1,"level","reqLvl")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]}),Object(n.jsx)(Ae.a,{onClick:function(){return _("reqLvl")},disabled:!z(j.reqLvl),checked:L.reqLvl,className:i.checkbox,icon:Object(n.jsx)(Me.a,{}),checkedIcon:Object(n.jsx)(Ee.a,{})})]})]})]}),Object(n.jsx)("div",{className:i.materials,children:!o.loading&&Object(n.jsx)(He,{total:!0,mat:q.mat,loading:q.loading})}),Object(n.jsxs)("div",{className:d?i.talentLvls:i.talentLvlsSmall,children:[Object(n.jsxs)("div",{className:i.talentLvl,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.autoAttack.imgPath}),Object(n.jsxs)("div",{className:i.lvlsGroup,children:[Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.autoAttack.curLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.autoAttack.curLvl-1,"talent","curLvl","autoAttack")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.autoAttack.curLvl+1,"talent","curLvl","autoAttack")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]}),Object(n.jsx)(Pe.a,{fontSize:"small"}),Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.autoAttack.reqLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.autoAttack.reqLvl-1,"talent","reqLvl","autoAttack")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.autoAttack.reqLvl+1,"talent","reqLvl","autoAttack")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]})]})]}),Object(n.jsxs)("div",{className:i.talentLvl,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.eleSkill.imgPath}),Object(n.jsxs)("div",{className:i.lvlsGroup,children:[Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.eleSkill.curLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleSkill.curLvl-1,"talent","curLvl","eleSkill")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleSkill.curLvl+1,"talent","curLvl","eleSkill")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]}),Object(n.jsx)(Pe.a,{fontSize:"small"}),Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.eleSkill.reqLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleSkill.reqLvl-1,"talent","reqLvl","eleSkill")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleSkill.reqLvl+1,"talent","reqLvl","eleSkill")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]})]})]}),Object(n.jsxs)("div",{className:i.talentLvl,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.eleBurst.imgPath}),Object(n.jsxs)("div",{className:i.lvlsGroup,children:[Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.eleBurst.curLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleBurst.curLvl-1,"talent","curLvl","eleBurst")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleBurst.curLvl+1,"talent","curLvl","eleBurst")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]}),Object(n.jsx)(Pe.a,{fontSize:"small"}),Object(n.jsxs)("div",{className:i.lvlGroup,children:[Object(n.jsxs)("div",{className:i.lvlText,children:["Lv. ",j.eleBurst.reqLvl]}),Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleBurst.reqLvl-1,"talent","reqLvl","eleBurst")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return Q(j.eleBurst.reqLvl+1,"talent","reqLvl","eleBurst")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})]})]})]})]}),Object(n.jsx)(we.a,{className:i.switchLabel,control:Object(n.jsx)(_e,{className:i.switch,checked:j.talentTotal,onChange:function(){return P("talentTotal")},inputProps:{"aria-label":"primary checkbox"}}),label:Object(n.jsx)("span",{style:{fontSize:"0.9rem"},children:"Show Total"})}),!o.loading&&Object(n.jsx)("div",{className:i.materials,children:j.talentTotal?Object(n.jsx)(He,{total:!0,mat:M.mat.total,loading:M.loading}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:i.talentTitle,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.autoAttack.imgPath}),Object(n.jsx)(H.a,{className:i.talentText,children:t.autoAttack.name})]}),Object(n.jsx)("div",{className:i.talentMaterials,children:Object(n.jsx)(He,{total:!0,mat:M.mat.autoAttack,loading:M.loading})}),Object(n.jsxs)("div",{className:i.talentTitle,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.eleSkill.imgPath}),Object(n.jsx)(H.a,{className:i.talentText,children:t.eleSkill.name})]}),Object(n.jsx)("div",{className:i.talentMaterials,children:Object(n.jsx)(He,{total:!0,mat:M.mat.eleSkill,loading:M.loading})}),Object(n.jsxs)("div",{className:i.talentTitle,children:[Object(n.jsx)(Be.a,{className:i.talentImg,component:"img",image:t.eleBurst.imgPath}),Object(n.jsx)(H.a,{className:i.talentText,children:t.eleBurst.name})]}),Object(n.jsx)("div",{className:i.talentMaterials,children:Object(n.jsx)(He,{total:!0,mat:M.mat.eleBurst,loading:M.loading})})]})})]})})})})},Ye=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleOpen=function(){e.setState({modalOpen:!0})},e.handleClose=function(){e.setState({modalOpen:!1})},e.toggleRaised=function(){var t=e.state.raised;e.setState({raised:!t})},e.state={raised:!1,curLvl:null,reqLvl:null,modalOpen:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.char,a=e.classes,r=e.showLevels,c=this.state,i=c.raised,s=c.curLvl,l=c.reqLvl,o=c.modalOpen;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe.a,{onMouseOver:this.toggleRaised,onMouseOut:this.toggleRaised,raised:i,className:r?a.levelRoot:a.root,children:Object(n.jsxs)(Ie.a,{onClick:this.handleOpen,className:a.buttonBase,children:[Object(n.jsxs)("div",{className:5===t.stars?a.imgCardFive:a.imgCardFour,children:[Object(n.jsx)("div",{className:a.imgBack,children:Object(n.jsx)(Be.a,{className:a.media,component:"img",image:t.imgPath,title:t.name})}),Object(n.jsx)(H.a,{className:t.name.length>12?a.nameSmall:a.name,children:t.name})]}),r&&Object(n.jsx)("div",{className:a.levelBlock,children:t.curLvl===t.reqLvl&&t.autoAttack.curLvl===t.autoAttack.reqLvl&&t.eleSkill.curLvl===t.eleSkill.reqLvl&&t.eleBurst.curLvl===t.eleBurst.reqLvl?Object(n.jsx)("div",{className:a.cardTalentLevels,children:"Goals Reached"}):Object(n.jsxs)(n.Fragment,{children:[t.curLvl!==t.reqLvl&&Object(n.jsx)("div",{className:a.levels,children:Object(n.jsxs)(H.a,{className:a.mainLvl,children:["Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:s})," to Lv."," ",Object(n.jsx)("span",{className:a.lvlNumber,children:l})]})}),t.autoAttack.curLvl!==t.autoAttack.reqLvl&&Object(n.jsxs)("div",{className:a.cardTalentLevels,children:[Object(n.jsx)(Be.a,{className:a.talentImg,component:"img",image:t.autoAttack.imgPath}),Object(n.jsxs)(H.a,{className:a.talentFont,children:["Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.autoAttack.curLvl})," to Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.autoAttack.reqLvl})]})]}),t.eleSkill.curLvl!==t.eleSkill.reqLvl&&Object(n.jsxs)("div",{className:a.cardTalentLevels,children:[Object(n.jsx)(Be.a,{className:a.talentImg,component:"img",image:t.eleSkill.imgPath}),Object(n.jsxs)(H.a,{className:a.talentFont,children:["Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.eleSkill.curLvl})," to Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.eleSkill.reqLvl})]})]}),t.eleBurst.curLvl!==t.eleBurst.reqLvl&&Object(n.jsxs)("div",{className:a.cardTalentLevels,children:[Object(n.jsx)(Be.a,{className:a.talentImg,component:"img",image:t.eleBurst.imgPath}),Object(n.jsxs)(H.a,{className:a.talentFont,children:["Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.eleBurst.curLvl})," to Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:t.eleBurst.reqLvl})]})]})]})}),t.hidden&&Object(n.jsx)("div",{className:a.levelOverlay,children:" "})]})}),Object(n.jsx)(Ke,{char:t,modalOpen:o,onClose:this.handleClose})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.char,n=a.curLvl,r=a.reqLvl,c=n,i=r;return n%1!==0&&(c="".concat(Math.floor(n),"+")),r%1!==0&&(i="".concat(Math.floor(r),"+")),Object(U.a)(Object(U.a)({},t),{},{curLvl:c,reqLvl:i})}}]),a}(r.Component);Ye.defaultProps={showLevels:!1};var Ze=Object(_.a)((function(e){return{root:{display:"flex",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",width:100},levelRoot:{display:"flex",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",width:224,backgroundColor:"#ebeeff"},levelOverlay:{top:0,right:0,position:"absolute",backgroundColor:"gray",opacity:.4,width:242,height:142},buttonBase:{display:"flex",textAlign:"initial"},imgCardFive:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),backgroundImage:e.palette.stars.five},imgCardFour:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),backgroundImage:e.palette.stars.four},name:{backgroundColor:"white",textAlign:"center",width:"100%",height:24},nameSmall:{backgroundColor:"white",textAlign:"center",width:"100%",fontSize:e.spacing(3.5),height:24},media:{width:e.spacing(25),height:"auto"},talentImg:{width:e.spacing(5),height:"auto",marginRight:e.spacing(2)},levels:{margin:e.spacing(2,0,2),display:"flex",alignItems:"center",justifyContent:"center"},cardTalentLevels:{margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},talentFont:{fontSize:e.spacing(3.3)},delete:{position:"absolute",right:2,top:2,backgroundColor:"white",borderRadius:e.spacing(25)},deleteSize:{fontSize:e.spacing(4)},mainLvl:{fontWeight:"bold",fontSize:e.spacing(3.3)},lvlNumber:{color:e.palette.textColor.main},levelBlock:{width:e.spacing(31)}}}),{withTheme:!0})(Ye),et=Object(me.a)((function(e){return{parent:{position:"relative"},imgCard:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),width:100},name:{textAlign:"center",width:"100%",height:24},nameSelected:{backgroundColor:e.palette.primary.main,textAlign:"center",width:"100%",height:24},nameSmall:{textAlign:"center",width:"100%",fontSize:e.spacing(3.5),height:24},nameSelectedSmall:{backgroundColor:e.palette.primary.main,textAlign:"center",width:"100%",fontSize:e.spacing(3.5),height:24},imgBackFive:{backgroundImage:e.palette.stars.five,height:100},imgBackFour:{backgroundImage:e.palette.stars.four,height:100},media:{width:e.spacing(25)}}}));var tt=function(e){var t=e.char,a=e.isSelected,c=et(),i=Object(r.useState)(!1),s=Object(de.a)(i,2),l=s[0],o=s[1];return Object(n.jsx)("div",{className:c.parent,children:Object(n.jsxs)(pe.a,{onMouseOver:function(){return o(!l)},onMouseOut:function(){return o(!l)},raised:l,className:c.imgCard,children:[Object(n.jsx)("div",{className:5===t.stars?c.imgBackFive:c.imgBackFour,children:Object(n.jsx)("img",{className:c.media,src:t.imgPath,alt:t.name})}),Object(n.jsx)(H.a,{className:a?t.name.length>12?c.nameSelectedSmall:c.nameSelected:t.name.length>12?c.nameSmall:c.name,children:t.name})]})})},at=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleAddOpen=function(){e.setState({modalOpen:!0})},e.handleAddClose=function(){e.setState({modalOpen:!1,addCharList:[]})},e.isSelected=function(t){for(var a=e.state.addCharList,n=0;n<a.length;n++)if(t===a[n].name)return!0;return!1},e.toggleLevel=function(){var t=e.state.showLevels;e.setState({showLevels:!t})},e.addCharButton=function(t){for(var a=e.state.addCharList,n=!0,r=0;r<a.length;r++)if(t.name===a[r].name){n=!1,a.splice(r,1);break}if(n){var c={name:t.name,hidden:!1,inventory:!0,talentTotal:!0,stars:t.stars,curLvl:1,reqLvl:90,autoAttack:{name:t.talents.autoAttack,curLvl:1,reqLvl:10,imgPath:t.talents.aaImgPath},eleSkill:{name:t.talents.eleSkill,curLvl:1,reqLvl:10,imgPath:t.talents.esImgPath},eleBurst:{name:t.talents.eleBurst,curLvl:1,reqLvl:10,imgPath:t.talents.ebImgPath},imgPath:t.imgPath};a.push(c)}e.setState({addCharList:a})},e.state={genCharList:null,charList:null,maxChar:!1,modalOpen:!1,addCharList:[],showLevels:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.addCharConnect,c=t.reqMat,i=t.userData,s=t.genData,l=this.state,o=l.charList,d=l.maxChar,m=l.modalOpen,u=l.genCharList,j=l.addCharList,h=l.showLevels;return Object(n.jsx)(Y.a,{maxWidth:"md",children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(H.a,{className:a.title,variant:"h4",children:"Characters"}),Object(n.jsxs)("div",{className:a.buttons,children:[Object(n.jsx)(F.a,{disabled:d,variant:"contained",color:"primary",className:a.addButton,onClick:this.handleAddOpen,children:"Add Character"}),Object(n.jsx)(we.a,{className:a.switchLabel,control:Object(n.jsx)(_e,{className:a.switch,onChange:this.toggleLevel,inputProps:{"aria-label":"primary checkbox"}}),label:Object(n.jsx)("span",{style:{fontSize:"0.9rem"},children:"Show Levels"})})]}),i.loading?Object(n.jsx)("div",{className:a.spinner,children:Object(n.jsx)(ue.a,{size:80})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:a.cardCont,children:Object(n.jsx)(Z.a,{className:a.cards,container:!0,spacing:3,children:o.map((function(e){return Object(n.jsx)(Z.a,{className:a.card,item:!0,children:Object(n.jsx)(Ze,{showLevels:h,char:e})},e.name)}))})}),!d&&Object(n.jsx)(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:m,onClose:this.handleAddClose,closeAfterTransition:!0,BackdropComponent:Ce.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ne.a,{in:m,children:Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(H.a,{variant:"h5",children:"Select Characters"}),Object(n.jsx)(Z.a,{container:!0,className:a.addCharList,spacing:2,children:s.loading?Object(n.jsx)("div",{className:a.modalSpinner,children:Object(n.jsx)(ue.a,{size:60})}):u.map((function(t){return Object(n.jsx)(Z.a,{onClick:function(){return e.addCharButton(t)},item:!0,children:Object(n.jsx)(tt,{char:t,isSelected:e.isSelected(t.name)})},t.name)}))}),Object(n.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){r(j),e.handleAddClose()},children:"Ok"})]})})}),Object(n.jsx)(He,{mat:c.allCharReq.mat,loading:c.allCharReq.loading})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.genData.genCharList.filter((function(t){for(var a=0;a<e.userData.charList.length;a++)if(t.name===e.userData.charList[a].name)return!1;return!0}));return!qe()(e.userData.charList,t.charList)&&!e.userData.loading||!qe()(a,t.genCharList)&&!e.genData.loading?(e.getAllCharReqConnect(),{genCharList:a,charList:e.userData.charList,maxChar:e.userData.charList.length===e.genData.genCharList.length}):null}}]),a}(r.Component),nt=Object(s.b)((function(e){return{userData:e.userData,genData:e.genData,reqMat:e.reqMat}}),{addCharConnect:function(e){return function(t,a){t({type:w});var n=a(),r=n.userData,c=n.auth.isAuthenticated;if(r.charList=[].concat(Object(g.a)(e),Object(g.a)(r.charList)),r.charList.sort((function(e,t){return e.name>t.name?1:-1})),c){var i={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",i).then((function(){return t({type:C,payload:r.charList})})).catch((function(e){t({type:y,payload:{field:"charList",error:e}})}))}else t({type:C,payload:r.charList})}},getAllCharReqConnect:ze})(Object(_.a)((function(e){return{root:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:e.spacing(4)},cardCont:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(4)},cards:{display:"flex",justifyContent:"center",alignItems:"center"},addCard:{height:"320.66px",width:"154px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e8e8e8","&:hover":{backgroundColor:"#e8e8e8 !important"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#ebeeff",outline:0,borderRadius:e.spacing(4),boxShadow:e.shadows[5],padding:e.spacing(4,4,3),width:"75%",height:"75%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},addCharList:{backgroundColor:"white",borderRadius:e.spacing(2),height:"80%",overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(2,0,4)},button:{display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(4,0,2)},spinner:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center"},buttons:{margin:e.spacing(2,0,2)},addButton:{marginRight:e.spacing(2)},switchLabel:{marginLeft:e.spacing(2)},switch:{marginRight:e.spacing(2)}}}),{withTheme:!0})(at)),rt=Object(_.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.grey[500],"&$checked":{transform:"translateX(12px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(Fe.a),ct=Object(me.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{outline:0,backgroundColor:"#ebeeff",borderRadius:e.spacing(4),boxShadow:e.shadows[5],padding:e.spacing(2),width:"60%",height:"75%",overflow:"auto",display:"flex",flexDirection:"column"},contnet:{display:"flex",justifyContent:"center",alignItems:"center"},imgCard:{marginTop:e.spacing(2),marginBottom:e.spacing(2),margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),width:100,overflow:"hidden"},imgBackFive:{backgroundImage:e.palette.stars.five,height:100},imgBackFour:{backgroundImage:e.palette.stars.four,height:100},imgBackThree:{backgroundImage:e.palette.stars.three,height:100},imgBackTwo:{backgroundImage:e.palette.stars.two,height:100},imgBackOne:{backgroundImage:e.palette.stars.one,height:100},name:{backgroundColor:"white",textAlign:"center",width:e.spacing(25),height:e.spacing(10),fontSize:e.spacing(3.5),padding:e.spacing(.1,1)},nameSmall:{backgroundColor:"white",textAlign:"center",width:e.spacing(25),height:e.spacing(10),fontSize:e.spacing(3),padding:e.spacing(.1,1)},media:{width:e.spacing(25),height:"auto"},delete:{padding:e.spacing(2),color:e.palette.primary.main},switchLabel:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(0,2,0)},switch:{marginRight:e.spacing(2)},text:{fontSize:e.spacing(4),fontWeight:"bold"},textDiv:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(1)},textField:{marginLeft:e.spacing(2),"& fieldset":{borderColor:e.palette.primary.main,borderRadius:0}},input:{height:e.spacing(2),width:e.spacing(8),fontSize:e.spacing(4),padding:e.spacing(2),textAlign:"center","&[type=number]":{"-moz-appearance":"textfield"},"&::-webkit-outer-spin-button":{"-webkit-appearance":"none",margin:0},"&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},levels:{display:"flex",alignItems:"center",justifyContent:"center"},level:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",borderRadius:e.spacing(2),margin:e.spacing(2),padding:e.spacing(3),height:104},buttonCheck:{display:"flex",alignItems:"center"},buttonGroup:{display:"flex",alignItems:"center",justifyContent:"center"},button:{color:"white",borderColor:"transparent",padding:0,backgroundColor:e.palette.primary.main,maxWidth:e.spacing(7),minWidth:e.spacing(7)},checkbox:{color:e.palette.secondary.main,padding:e.spacing(1)},talentLvls:{display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(1)},talentLvlsSmall:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:e.spacing(1)},talentLvl:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"white",borderRadius:e.spacing(2),margin:e.spacing(2),padding:e.spacing(2)},talentImg:{width:e.spacing(7),height:"auto"},lvlsGroup:{display:"flex",alignItems:"center",justifyContent:"center"},lvlGroup:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",margin:e.spacing(2)},lvlText:{fontWeight:"bold",fontSize:e.spacing(4),marginBottom:e.spacing(1)},materials:{margin:e.spacing(2),backgroundColor:"white",borderRadius:e.spacing(4),padding:e.spacing(2)},talentTitle:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2)},talentText:{marginLeft:e.spacing(2)},talentMaterials:{padding:e.spacing(2)}}}));var it=function(e){var t=e.weapon,a=e.modalOpen,c=e.onClose,i=ct(),l=Object(s.c)(),o=Object(s.d)((function(e){return e.reqMat})),d=Object(r.useState)((function(){return{inventory:t.inventory,hidden:t.hidden,name:t.name,curLvl:t.curLvl,reqLvl:t.reqLvl,number:t.number}})),m=Object(de.a)(d,2),u=m[0],j=m[1],h=Object(r.useState)((function(){return{curLvl:void 0,reqLvl:void 0}})),p=Object(de.a)(h,2),b=p[0],g=p[1],O=Object(r.useState)((function(){return{curLvl:t.curLvl%1!==0,reqLvl:t.reqLvl%1!==0}})),x=Object(de.a)(O,2),f=x[0],L=x[1],k=Object(r.useState)((function(){return Object(U.a)({},o.weaponReq)})),C=Object(de.a)(k,2),S=C[0],q=C[1];Object(r.useEffect)((function(){!a||b.curLvl||b.reqLvl||l(function(e){return function(t,a){t({type:T,payload:"weaponReq"});var n=a().userData,r={weapon:e,materials:n.materials};v.a.post("/api/weapon/".concat(e.name.replace(/ /g,"_")),r).then((function(e){t({type:E,payload:e.data})})).catch((function(e){t({type:A,payload:{req:"weaponReq",error:e}})}))}}(u))}),[a,u.curLvl,u.reqLvl,u.inventory,u.number]),Object(r.useEffect)((function(){q(o.weaponReq)}),[o.weaponReq]);var I=function(e){switch(j(Object(U.a)(Object(U.a)({},u),{},Object(K.a)({},e,!u[e]))),l(function(e,t){return function(a,n){a({type:w,payload:"loadingWeapon"});for(var r=n(),c=r.userData,i=r.auth.isAuthenticated,s=0;s<c.weaponList.length;s++)e===c.weaponList[s].name&&(c.weaponList[s][t]=!c.weaponList[s][t]);if(i){var l={charList:c.charList,weaponList:c.weaponList,materials:c.materials};v.a.post("/api/user",l).then((function(){return a({type:N,payload:c.weaponList})})).catch((function(e){a({type:y,payload:{field:"weaponList",error:e}})}))}else a({type:N,payload:c.weaponList})}}(u.name,e)),e){case"hidden":l(We())}},B=function(e){return[20,40,50,60,70,80].includes(Math.floor(e))},G=function(e){L(Object(U.a)(Object(U.a)({},f),{},Object(K.a)({},e,!f[e]))),j(Object(U.a)(Object(U.a)({},u),{},Object(K.a)({},e,f[e]?u[e]-.5:u[e]+.5)))},R=function(e,a,n){var r=""===e?"":parseInt(e,10);switch(a){case"level":if(B(r)&&f[n]&&(r+=.5),1===t.stars||2===t.stars?r>=1&&r<=70:r>=1&&r<=90){var c=Object(U.a)({},u);c[n]=r;var i=Object(U.a)(Object(U.a)({},b),{},Object(K.a)({},n,void 0));"curLvl"===n&&r>u.reqLvl?(c.reqLvl=r,i.reqLvl=void 0):"reqLvl"===n&&r<u.curLvl&&(c.reqLvl=r,i.reqLvl="Required Level is too low"),j(c),g(i)}else 0===r&&"string"===typeof e?(j(Object(U.a)(Object(U.a)({},u),{},Object(K.a)({},n,r))),g(Object(U.a)(Object(U.a)({},b),{},Object(K.a)({},n,"Level cannot be 0")))):""===r&&(j(Object(U.a)(Object(U.a)({},u),{},Object(K.a)({},n,r))),g(Object(U.a)(Object(U.a)({},b),{},Object(K.a)({},n,"Field cannot be empty"))));break;case"copy":if(e>0){var s=Object(U.a)({},u);s[n]=r;var l=Object(U.a)(Object(U.a)({},b),{},Object(K.a)({},n,void 0));j(s),g(l)}}};return Object(n.jsx)(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:a,onClose:function(){c(),b.curLvl||b.reqLvl?(j(Object(U.a)(Object(U.a)({},u),{},{name:t.name,curLvl:t.curLvl,reqLvl:t.reqLvl,number:t.number})),g({curLvl:void 0,reqLvl:void 0})):(l(function(e){return function(t,a){t({type:w,payload:"loadingWeapon"});for(var n=a(),r=n.userData,c=n.auth.isAuthenticated,i=0;i<r.weaponList.length;i++)e.name===r.weaponList[i].name&&(r.weaponList[i].curLvl=e.curLvl,r.weaponList[i].reqLvl=e.reqLvl,r.weaponList[i].number=e.number);if(c){var s={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",s).then((function(){return t({type:N,payload:r.weaponList})})).catch((function(e){t({type:y,payload:{field:"weaponList",error:e}})}))}else t({type:N,payload:r.weaponList})}}(u)),l(We()))},closeAfterTransition:!0,BackdropComponent:Ce.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ne.a,{in:a,children:Object(n.jsx)("div",{className:i.paper,children:Object(n.jsxs)("div",{className:i.content,children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:i.imgCard,children:[Object(n.jsx)("div",{className:function(){switch(t.stars){case 1:return i.imgBackOne;case 2:return i.imgBackTwo;case 3:return i.imgBackThree;case 4:return i.imgBackFour;case 5:return i.imgBackFive}return i.imgBackNone}(),children:Object(n.jsx)(Be.a,{className:i.media,component:"img",image:t.imgPath,title:t.name})}),Object(n.jsx)(H.a,{className:t.name.length>23?i.nameSmall:i.name,children:t.name})]})}),Object(n.jsxs)("div",{className:i.buttonGroup,children:[Object(n.jsx)(Ae.a,{onChange:function(){return I("hidden")},checked:u.hidden,color:"primary",icon:Object(n.jsx)(Re.a,{}),checkedIcon:Object(n.jsx)(Re.a,{})}),Object(n.jsx)(Ge.a,{className:i.delete,onClick:function(){var e;l((e=u.name,function(t,a){t({type:w});for(var n=a(),r=n.userData,c=n.auth.isAuthenticated,i=0;i<r.weaponList.length;i++)if(e===r.weaponList[i].name){r.weaponList.splice(i,1);break}if(c){var s={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",s).then((function(){return t({type:N,payload:r.weaponList})})).catch((function(e){t({type:y,payload:{field:"weaponList",error:e}})}))}else t({type:N,payload:r.weaponList})})),l(We()),c()},children:Object(n.jsx)(De.a,{})}),Object(n.jsx)(we.a,{className:i.switchLabel,control:Object(n.jsx)(rt,{className:i.switch,checked:u.inventory,onChange:function(){return I("inventory")},inputProps:{"aria-label":"primary checkbox"}}),label:Object(n.jsx)("span",{style:{fontSize:"0.9rem"},children:"Include Inventory"})})]}),Object(n.jsxs)("div",{className:i.levels,children:[Object(n.jsxs)("div",{className:i.level,children:[Object(n.jsx)(H.a,{className:i.text,children:"Current Level"}),Object(n.jsxs)("div",{className:i.textDiv,children:[Object(n.jsx)("span",{className:i.text,children:"Lv. "}),Object(n.jsx)(te.a,{error:!!b.curLvl,className:i.textField,InputProps:{classes:{input:i.input}},id:"curLvl",name:"curLvl",onChange:function(e){return R(e.target.value,"level",e.target.id)},value:""!==u.curLvl?Math.floor(u.curLvl):u.curLvl,variant:"outlined"})]}),Object(n.jsxs)("div",{className:i.buttonCheck,children:[Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return R(u.curLvl-1,"level","curLvl")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return R(u.curLvl+1,"level","curLvl")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]}),Object(n.jsx)(Ae.a,{onClick:function(){return G("curLvl")},disabled:!B(u.curLvl),checked:f.curLvl,className:i.checkbox,icon:Object(n.jsx)(Me.a,{}),checkedIcon:Object(n.jsx)(Ee.a,{})})]})]}),Object(n.jsxs)("div",{className:i.level,children:[Object(n.jsx)(H.a,{className:i.text,children:"Required Level"}),Object(n.jsxs)("div",{className:i.textDiv,children:[Object(n.jsx)("span",{className:i.text,children:"Lv. "}),Object(n.jsx)(te.a,{error:!!b.reqLvl,className:i.textField,InputProps:{classes:{input:i.input}},id:"reqLvl",name:"reqLvl",onChange:function(e){return R(e.target.value,"level",e.target.id)},value:""!==u.reqLvl?Math.floor(u.reqLvl):u.reqLvl,variant:"outlined"})]}),Object(n.jsxs)("div",{className:i.buttonCheck,children:[Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return R(u.reqLvl-1,"level","reqLvl")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return R(u.reqLvl+1,"level","reqLvl")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]}),Object(n.jsx)(Ae.a,{onClick:function(){return G("reqLvl")},disabled:!B(u.reqLvl),checked:f.reqLvl,className:i.checkbox,icon:Object(n.jsx)(Me.a,{}),checkedIcon:Object(n.jsx)(Ee.a,{})})]})]}),Object(n.jsxs)("div",{className:i.level,children:[Object(n.jsx)(H.a,{className:i.text,children:"Copies"}),Object(n.jsx)("div",{className:i.textDiv,children:Object(n.jsxs)("span",{className:i.text,children:["x ",u.number]})}),Object(n.jsx)("div",{className:i.buttonCheck,children:Object(n.jsxs)(W.a,{className:i.buttonGroup,children:[Object(n.jsx)(F.a,{onClick:function(){return R(u.number-1,"copy","number")},className:i.button,children:Object(n.jsx)(ge.a,{fontSize:"small"})}),Object(n.jsx)(F.a,{onClick:function(){return R(u.number+1,"copy","number")},className:i.button,children:Object(n.jsx)(Oe.a,{fontSize:"small"})})]})})]})]}),Object(n.jsx)("div",{className:i.materials,children:!o.loading&&Object(n.jsx)(He,{total:!0,mat:S.mat,loading:S.loading})})]})})})})},st=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleOpen=function(){e.setState({modalOpen:!0})},e.handleClose=function(){e.setState({modalOpen:!1})},e.toggleRaised=function(){var t=e.state.raised;e.setState({raised:!t})},e.state={raised:!1,curLvl:null,reqLvl:null,modalOpen:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weapon,a=e.classes,r=e.showLevels,c=this.state,i=c.raised,s=c.curLvl,l=c.reqLvl,o=c.modalOpen;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe.a,{onMouseOver:this.toggleRaised,onMouseOut:this.toggleRaised,raised:i,className:r?a.levelRoot:a.root,children:Object(n.jsxs)(Ie.a,{onClick:this.handleOpen,className:a.buttonBase,children:[Object(n.jsxs)("div",{className:a.imgCard,children:[Object(n.jsx)("div",{className:5===t.stars?a.imgBackFive:4===t.stars?a.imgBackFour:3===t.stars?a.imgBackThree:2===t.stars?a.imgBackTwo:a.imgBackOne,children:Object(n.jsx)(Be.a,{className:a.media,component:"img",image:t.imgPath,title:t.name})}),Object(n.jsx)(H.a,{className:t.name.length>23?a.nameSmall:a.name,children:t.name})]}),r&&Object(n.jsx)("div",{className:a.levelBlock,children:t.curLvl===t.reqLvl?Object(n.jsx)("div",{className:a.cardTalentLevels,children:"Goals Reached"}):Object(n.jsxs)(n.Fragment,{children:[t.curLvl!==t.reqLvl&&Object(n.jsx)("div",{className:a.levels,children:Object(n.jsxs)(H.a,{className:a.mainLvl,children:["Lv. ",Object(n.jsx)("span",{className:a.lvlNumber,children:s})," to Lv."," ",Object(n.jsx)("span",{className:a.lvlNumber,children:l})]})}),Object(n.jsx)("div",{className:a.cardTalentLevels,children:Object(n.jsxs)(H.a,{className:a.talentFont,children:["Copies: ",Object(n.jsxs)("span",{className:a.lvlNumber,children:["x",t.number]})]})})]})}),t.hidden&&Object(n.jsx)("div",{className:a.levelOverlay,children:" "})]})}),Object(n.jsx)(it,{weapon:t,modalOpen:o,onClose:this.handleClose})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.weapon,n=a.curLvl,r=a.reqLvl,c=n,i=r;return n%1!==0&&(c="".concat(Math.floor(n),"+")),r%1!==0&&(i="".concat(Math.floor(r),"+")),Object(U.a)(Object(U.a)({},t),{},{curLvl:c,reqLvl:i})}}]),a}(r.Component);st.defaultProps={showLevels:!1};var lt=Object(_.a)((function(e){return{root:{display:"flex",backgroundColor:"#ebeeff",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",width:100},levelRoot:{display:"flex",backgroundColor:"#ebeeff",borderColor:"black",position:"relative",justifyContent:"center",alignItems:"center",width:224},levelOverlay:{top:0,right:0,position:"absolute",backgroundColor:"gray",opacity:.4,width:242,height:160},buttonBase:{display:"flex",textAlign:"initial"},imgCard:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2)},name:{backgroundColor:"white",textAlign:"center",width:e.spacing(25),height:e.spacing(10),fontSize:e.spacing(3.5),padding:e.spacing(.1,1)},nameSmall:{backgroundColor:"white",textAlign:"center",width:e.spacing(25),height:e.spacing(10),fontSize:e.spacing(3),padding:e.spacing(.1,1)},imgBackFive:{backgroundImage:e.palette.stars.five,height:100},imgBackFour:{backgroundImage:e.palette.stars.four,height:100},imgBackThree:{backgroundImage:e.palette.stars.three,height:100},imgBackTwo:{backgroundImage:e.palette.stars.two,height:100},imgBackOne:{backgroundImage:e.palette.stars.one,height:100},media:{width:e.spacing(25),height:"auto"},talentImg:{width:e.spacing(5),height:"auto",marginRight:e.spacing(2)},levels:{margin:e.spacing(2,0,2),display:"flex",alignItems:"center",justifyContent:"center"},cardTalentLevels:{margin:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},talentFont:{fontSize:e.spacing(3.3)},delete:{position:"absolute",right:2,top:2,backgroundColor:"white",borderRadius:e.spacing(25)},deleteSize:{fontSize:e.spacing(4)},mainLvl:{fontWeight:"bold",fontSize:e.spacing(3.3)},lvlNumber:{color:e.palette.textColor.main},levelBlock:{width:e.spacing(31)}}}),{withTheme:!0})(st),ot=Object(me.a)((function(e){return{parent:{position:"relative"},imgCard:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:e.spacing(2),width:100},name:{textAlign:"center",width:"100%",height:e.spacing(10),fontSize:e.spacing(3.5)},nameSelected:{backgroundColor:e.palette.primary.main,textAlign:"center",width:"100%",height:e.spacing(10),fontSize:e.spacing(3.5)},nameSmall:{textAlign:"center",width:"100%",height:e.spacing(10),fontSize:e.spacing(3)},nameSelectedSmall:{backgroundColor:e.palette.primary.main,textAlign:"center",width:"100%",height:e.spacing(10),fontSize:e.spacing(3)},imgBackFive:{backgroundImage:e.palette.stars.five,height:100},imgBackFour:{backgroundImage:e.palette.stars.four,height:100},imgBackThree:{backgroundImage:e.palette.stars.three,height:100},imgBackTwo:{backgroundImage:e.palette.stars.two,height:100},imgBackOne:{backgroundImage:e.palette.stars.one,height:100},media:{width:e.spacing(25),height:"auto"}}}));var dt=function(e){var t=e.weapon,a=e.isSelected,c=ot(),i=Object(r.useState)(!1),s=Object(de.a)(i,2),l=s[0],o=s[1];return Object(n.jsx)("div",{className:c.parent,children:Object(n.jsxs)(pe.a,{onMouseOver:function(){return o(!l)},onMouseOut:function(){return o(!l)},raised:l,className:c.imgCard,children:[Object(n.jsx)("div",{className:function(){switch(t.stars){case 1:return c.imgBackOne;case 2:return c.imgBackTwo;case 3:return c.imgBackThree;case 4:return c.imgBackFour;case 5:return c.imgBackFive}return c.imgBackNone}(),children:Object(n.jsx)("img",{className:c.media,src:t.imgPath,alt:t.name})}),Object(n.jsx)(H.a,{className:a?t.name.length>23?c.nameSelectedSmall:c.nameSelected:t.name.length>23?c.nameSmall:c.name,children:t.name})]})})},mt=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleAddOpen=function(){e.setState({modalOpen:!0})},e.handleAddClose=function(){e.setState({modalOpen:!1,addWeaponList:[]})},e.isSelected=function(t){for(var a=e.state.addWeaponList,n=0;n<a.length;n++)if(t===a[n].name)return!0;return!1},e.toggleLevel=function(){var t=e.state.showLevels;e.setState({showLevels:!t})},e.addWeaponButton=function(t){for(var a=e.state.addWeaponList,n=!0,r=0;r<a.length;r++)if(t.name===a[r].name){n=!1,a.splice(r,1);break}if(n){var c={name:t.name,hidden:!1,inventory:!0,number:1,stars:t.stars,curLvl:1,reqLvl:2===t.stars||1===t.stars?70:90,imgPath:t.imgPath};a.push(c)}e.setState({addWeaponList:a})},e.state={genWeaponList:null,weaponList:null,maxWeapon:!1,modalOpen:!1,addWeaponList:[],showLevels:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.addWeaponConnect,c=t.reqMat,i=t.userData,s=t.genData,l=this.state,o=l.weaponList,d=l.maxWeapon,m=l.modalOpen,u=l.genWeaponList,j=l.addWeaponList,h=l.showLevels;return Object(n.jsx)(Y.a,{maxWidth:"md",children:Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(H.a,{className:a.title,variant:"h4",children:"Weapons"}),Object(n.jsxs)("div",{className:a.buttons,children:[Object(n.jsx)(F.a,{disabled:d,variant:"contained",color:"primary",className:a.addButton,onClick:this.handleAddOpen,children:"Add Weapon"}),Object(n.jsx)(we.a,{className:a.switchLabel,control:Object(n.jsx)(rt,{className:a.switch,onChange:this.toggleLevel,inputProps:{"aria-label":"primary checkbox"}}),label:Object(n.jsx)("span",{style:{fontSize:"0.9rem"},children:"Show Levels"})})]}),i.loading?Object(n.jsx)("div",{className:a.spinner,children:Object(n.jsx)(ue.a,{size:80})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:a.cardCont,children:Object(n.jsx)(Z.a,{className:a.cards,container:!0,spacing:3,children:o.map((function(e){return Object(n.jsx)(Z.a,{className:a.card,item:!0,children:Object(n.jsx)(lt,{showLevels:h,weapon:e})},e.name)}))})}),!d&&Object(n.jsx)(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:m,onClose:this.handleAddClose,closeAfterTransition:!0,BackdropComponent:Ce.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Ne.a,{in:m,children:Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(H.a,{variant:"h5",children:"Select Characters"}),Object(n.jsx)(Z.a,{container:!0,className:a.addWeaponList,spacing:2,children:s.loading?Object(n.jsx)("div",{className:a.modalSpinner,children:Object(n.jsx)(ue.a,{size:60})}):u.map((function(t){return Object(n.jsx)(Z.a,{onClick:function(){return e.addWeaponButton(t)},item:!0,children:Object(n.jsx)(dt,{weapon:t,isSelected:e.isSelected(t.name)})},t.name)}))}),Object(n.jsx)(F.a,{variant:"contained",color:"secondary",onClick:function(){r(j),e.handleAddClose()},children:"Ok"})]})})}),Object(n.jsx)(He,{mat:c.allWeaponReq.mat,loading:c.allWeaponReq.loading})]})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.genData.genWeaponList.filter((function(t){for(var a=0;a<e.userData.weaponList.length;a++)if(t.name===e.userData.weaponList[a].name)return!1;return!0}));return!qe()(e.userData.weaponList,t.weaponList)&&!e.userData.loading||!qe()(a,t.genWeaponList)&&!e.genData.loading?(e.getAllWeaponReqConnect(),{genWeaponList:a,weaponList:e.userData.weaponList,maxWeapon:e.userData.weaponList.length===e.genData.genWeaponList.length}):null}}]),a}(r.Component),ut=Object(s.b)((function(e){return{userData:e.userData,genData:e.genData,reqMat:e.reqMat}}),{addWeaponConnect:function(e){return function(t,a){t({type:w});var n=a(),r=n.userData,c=n.auth.isAuthenticated;if(r.weaponList=[].concat(Object(g.a)(e),Object(g.a)(r.weaponList)),r.weaponList.sort((function(e,t){return e.name>t.name?1:-1})),c){var i={charList:r.charList,weaponList:r.weaponList,materials:r.materials};v.a.post("/api/user",i).then((function(){return t({type:N,payload:r.weaponList})})).catch((function(e){t({type:y,payload:{field:"weaponList",error:e}})}))}else t({type:N,payload:r.weaponList})}},getAllWeaponReqConnect:We})(Object(_.a)((function(e){return{root:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:e.spacing(4)},cardCont:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(4)},cards:{display:"flex",justifyContent:"center",alignItems:"center"},addCard:{height:"320.66px",width:"154px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#e8e8e8","&:hover":{backgroundColor:"#e8e8e8 !important"}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:"#ebeeff",outline:0,borderRadius:e.spacing(4),boxShadow:e.shadows[5],padding:e.spacing(4,4,3),width:"75%",height:"75%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},addWeaponList:{backgroundColor:"white",borderRadius:e.spacing(2),height:"80%",overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(2,0,4)},button:{display:"flex",alignItems:"center",justifyContent:"center",margin:e.spacing(4,0,2)},spinner:{height:"50vh",display:"flex",alignItems:"center",justifyContent:"center"},buttons:{margin:e.spacing(2,0,2)},addButton:{marginRight:e.spacing(2)},switchLabel:{marginLeft:e.spacing(2)},switch:{marginRight:e.spacing(2)}}}),{withTheme:!0})(mt)),jt=Object(me.a)((function(e){return{root:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:e.spacing(4)}}}));var ht=function(){var e=jt();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(H.a,{className:e.title,variant:"h4",children:"404 Page Not Found"})})},pt=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadUserConnect,a=e.loadGenDataConnect;t(),a()}},{key:"render",value:function(){return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(V,{}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{exact:!0,path:"/",component:J}),Object(n.jsx)(b.b,{exact:!0,path:"/register",component:ce}),Object(n.jsx)(b.b,{exact:!0,path:"/login",component:se}),Object(n.jsx)(b.b,{exact:!0,path:"/characters",component:nt}),Object(n.jsx)(b.b,{exact:!0,path:"/weapons",component:ut}),Object(n.jsx)(oe,{exact:!0,path:"/dashboard",component:ye}),Object(n.jsx)(b.b,{path:"*",component:ht})]})]})}}]),a}(r.Component),bt=Object(s.b)(null,{loadUserConnect:function(){return function(e){e({type:w}),v.a.get("/api/user").then((function(t){return e({type:k,payload:t.data.userData})})).catch((function(t){e({type:y,payload:{field:"user",error:t}})}))}},loadGenDataConnect:function(){return function(e){e({type:I}),v.a.get("/api/data").then((function(t){e({type:B,payload:t.data})})).catch((function(t){e({type:q,payload:{field:"all",error:t}})}))}}})(pt),gt=a(73),Ot=a(100),vt=a(212),xt=Object(Ot.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:gt.a.A400},background:{default:"#fff"},textColor:{main:"#bd5e57"},stars:{five:"linear-gradient(rgba(112,82,54,1) 60%, rgba(112,87,71,1) 80%, rgba(77,77,77,1) 100%)",four:"linear-gradient(rgba(96,57,138,1) 60%, rgba(68,60,95,1) 80%, rgba(77,77,77,1) 100%)",three:"linear-gradient(rgba(51,123,156,1) 60%, rgba(44,94,116,1) 80%, rgba(77,77,77,1) 100%)",two:"linear-gradient(rgba(95,146,109,1) 60%, rgba(72,101,101,1) 80%, rgba(77,77,77,1) 100%)",one:"linear-gradient(rgba(129,140,152,1) 60%, rgba(97,100,113,1) 80%, rgba(77,77,77,1) 100%)"}},spacing:function(e){return"".concat(.25*e,"rem")}}),ft=Object(vt.a)(xt),Lt=a(39),yt=a(99),wt=a(145),kt={isAuthenticated:!1,user:{},loading:!1},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(U.a)(Object(U.a)({},e),{},{isAuthenticated:!wt(t.payload),user:t.payload});case f:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});default:return e}},Nt={allCharReq:{mat:{},loading:!1},charReq:{mat:{},loading:!1},talentReq:{mat:{total:{},autoAttack:{},eleSkill:{},eleBurst:{}},loading:!1},allWeaponReq:{mat:{},loading:!1},weaponReq:{mat:{},loading:!1},errors:{}},St=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T:return Object(U.a)(Object(U.a)({},t),{},Object(K.a)({},a.payload,Object(U.a)(Object(U.a)({},t[a.payload]),{},{loading:!0})));case A:return Object(U.a)(Object(U.a)({},t),{},(e={},Object(K.a)(e,a.payload.req,Object(U.a)(Object(U.a)({},t[a.payload]),{},{loading:!1})),Object(K.a)(e,"errors",Object(U.a)(Object(U.a)({},t.errors),{},Object(K.a)({},a.payload.req,a.payload.error))),e));case G:return Object(U.a)(Object(U.a)({},t),{},{allCharReq:{mat:a.payload,loading:!1}});case R:return Object(U.a)(Object(U.a)({},t),{},{charReq:{mat:a.payload,loading:!1}});case D:return"total"===a.payload.type?Object(U.a)(Object(U.a)({},t),{},{talentReq:{mat:Object(U.a)(Object(U.a)({},t.talentReq.mat),{},{total:a.payload.req.total}),loading:!1}}):Object(U.a)(Object(U.a)({},t),{},{talentReq:{mat:Object(U.a)(Object(U.a)({},t.talentReq),{},{autoAttack:a.payload.req.autoAttack,eleSkill:a.payload.req.eleSkill,eleBurst:a.payload.req.eleBurst}),loading:!1}});case M:return Object(U.a)(Object(U.a)({},t),{},{allWeaponReq:{mat:a.payload,loading:!1}});case E:return Object(U.a)(Object(U.a)({},t),{},{weaponReq:{mat:a.payload,loading:!1}});default:return t}},qt={},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.payload;default:return e}},Bt={genCharList:[],genWeaponList:[],genMaterials:{},errors:{},loading:!1},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,errors:Object(U.a)(Object(U.a)({},e.errors),{},Object(K.a)({},t.payload.field,t.payload.error))});case I:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case B:var a=t.payload.charList.sort((function(e,t){return e.name>t.name?1:-1}));return{genCharList:a,genWeaponList:t.payload.weaponList,genMaterials:t.payload.materials,loading:!1};default:return e}},At={charList:[],weaponList:[],materials:{},errors:{},loading:!1,loadingChar:!1,loadingWeapon:!1,loadingMat:!1},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,errors:Object(U.a)(Object(U.a)({},e.errors),{},Object(K.a)({},t.payload.field,t.payload.error))});case w:return Object(U.a)(Object(U.a)({},e),{},Object(K.a)({},t.payload,!0));case k:var a=t.payload.charList.sort((function(e,t){return e.name>t.name?1:-1})),n=t.payload.weaponList.sort((function(e,t){return e.name>t.name?1:-1}));return{charList:a,weaponList:n,materials:t.payload.materials,loading:!1};case C:return Object(U.a)(Object(U.a)({},e),{},{charList:t.payload,loadingChar:!1});case N:return Object(U.a)(Object(U.a)({},e),{},{weaponList:t.payload,loadingWeapon:!1});case S:return Object(U.a)(Object(U.a)({},e),{},{materials:t.payload,loadingMat:!1});default:return e}},Rt=Object(Lt.c)({auth:Ct,errors:It,userData:Gt,genData:Tt,reqMat:St}),Dt=[yt.a],Mt=Object(Lt.e)(Rt,{},Object(Lt.d)(Lt.a.apply(void 0,Dt),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));if(localStorage.jwtToken){var Et=localStorage.jwtToken;Q(Et);var Pt=Object(l.a)(Et);Mt.dispatch($(Pt));var zt=Date.now()/1e3;Pt.exp<zt&&(Mt.dispatch(X()),window.location.href="./login")}i.a.render(Object(n.jsxs)(d.a,{theme:ft,children:[Object(n.jsx)(o.a,{}),Object(n.jsx)(s.a,{store:Mt,children:Object(n.jsx)(bt,{})})]}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.23b8ec3d.chunk.js.map